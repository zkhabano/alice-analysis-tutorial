
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Prerequisites for CentOS 7 ¬∑ ALICE Analysis Tutorial</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-panels/panels.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-block-align/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../css/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="prereq-macos.html" />
    
    
    <link rel="prev" href="custom.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../start/">
            
                <a href="../start/">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../start/cert.html">
            
                <a href="../start/cert.html">
            
                    
                    Get a Grid certificate
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Build ALICE software
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="alidock.html">
            
                <a href="alidock.html">
            
                    
                    üê≥ Using alidock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="custom.html">
            
                <a href="custom.html">
            
                    
                    üêå Custom installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.2.1" data-path="prereq-centos7.html">
            
                <a href="prereq-centos7.html">
            
                    
                    Prerequisites for CentOS 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="prereq-macos.html">
            
                <a href="prereq-macos.html">
            
                    
                    Prerequisites for macOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="prereq-ubuntu.html">
            
                <a href="prereq-ubuntu.html">
            
                    
                    Prerequisites for Ubuntu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="prereq-fedora.html">
            
                <a href="prereq-fedora.html">
            
                    
                    Prerequisites for Fedora
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="build.html">
            
                <a href="build.html">
            
                    
                    üõ† Build the packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="precomp.html">
            
                <a href="precomp.html">
            
                    
                    üì¶ Use the precompiled binaries
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../analysis/welcome.html">
            
                <a href="../analysis/welcome.html">
            
                    
                    Writing an analysis task
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../analysis/classes.html">
            
                <a href="../analysis/classes.html">
            
                    
                    AliAnalysisTaskSE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../analysis/alianalysistaskmytask.html">
            
                <a href="../analysis/alianalysistaskmytask.html">
            
                    
                    Your analysis task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../analysis/local.html">
            
                <a href="../analysis/local.html">
            
                    
                    Running locally
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../analysis/rungrid.html">
            
                <a href="../analysis/rungrid.html">
            
                    
                    Running on Grid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../analysis/lego.html">
            
                <a href="../analysis/lego.html">
            
                    
                    The LEGO train system
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../analysis/monalisa.html">
            
                <a href="../analysis/monalisa.html">
            
                    
                    AliMonitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../analysis/trouble.html">
            
                <a href="../analysis/trouble.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../analysis/streamer.html">
            
                <a href="../analysis/streamer.html">
            
                    
                    The ROOT streamer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../analysis/destructor.html">
            
                <a href="../analysis/destructor.html">
            
                    
                    Destructors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../analysis/">
            
                <a href="../analysis/">
            
                    
                    Analysis tutorial exercises
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../analysis/setup.html">
            
                <a href="../analysis/setup.html">
            
                    
                    Step 1 - Setup the tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../analysis/running.html">
            
                <a href="../analysis/running.html">
            
                    
                    Step 2 - Running the task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../analysis/modify.html">
            
                <a href="../analysis/modify.html">
            
                    
                    Step 3 - Modify the task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../analysis/track.html">
            
                <a href="../analysis/track.html">
            
                    
                    Step 4 -The track loop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../analysis/pid.html">
            
                <a href="../analysis/pid.html">
            
                    
                    Step 5 -Particle identification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../analysis/MC.html">
            
                <a href="../analysis/MC.html">
            
                    
                    Step 6 -Using Monte Carlo data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../analysis/grid.html">
            
                <a href="../analysis/grid.html">
            
                    
                    Step 7 -Run your code on GRID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../analysis/bonus.html">
            
                <a href="../analysis/bonus.html">
            
                    
                    Bonus content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../analysis/hints.html">
            
                <a href="../analysis/hints.html">
            
                    
                    Some hints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../analysis/ROOT5-to-6.html">
            
                <a href="../analysis/ROOT5-to-6.html">
            
                    
                    Transition from ROOT5 to ROOT6
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Prerequisites for CentOS 7</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="alibuild-prerequisites-for-centos-7">aliBuild prerequisites for CentOS 7</h1>
<!-- Dockerfile UPLOAD_NAME alisw/o2-cc7 -->
<!-- Dockerfile FROM centos:7 -->
<!-- Dockerfile RUN rpmdb --rebuilddb && yum clean all -->
<p>For ALICE O2, our policy is <a href="https://indico.cern.ch/event/642232/#3-wp3-common-tools-and-softwar" target="_blank">to support CERN CentOS 7 as our official deployment
platform</a>. CERN CentOS 7 is
essentially a CentOS 7 with some more CERN-specific packages, so these instructions apply to the
pristine CentOS 7 as well.</p>
<p>As the primary supported platform, our <a href="alidock.html">alidock</a> installation method is based on it. If
you use alidock, you don&apos;t need to follow those prerequisites. The environment we provide is ready
to use.</p>
<h2 id="install-or-upgrade-the-required-packages">Install or upgrade the required packages</h2>
<p>Install packages (one long line, just copy and paste it), as <strong>root user</strong>:</p>
<!-- Dockerfile RUN_INLINE -->
<pre><code class="lang-bash">yum install -y git python mysql-devel curl curl-devel python python-devel python-pip bzip2 bzip2-devel unzip autoconf automake texinfo gettext gettext-devel libtool freetype freetype-devel libpng libpng-devel sqlite sqlite-devel ncurses-devel mesa-libGLU-devel libX11-devel libXpm-devel libXext-devel libXft-devel libxml2 libxml2-devel motif motif-devel kernel-devel pciutils-devel kmod-devel bison flex perl-ExtUtils-Embed environment-modules
</code></pre>
<p>Now get a recent version of <code>pip</code> (the Python package manager): this is required for installing aliBuild and other Python dependencies. Do, always as <strong>root user</strong>:</p>
<!-- Dockerfile RUN_INLINE -->
<pre><code>curl -o /tmp/get-pip.py https://bootstrap.pypa.io/get-pip.py
python /tmp/get-pip.py
</code></pre><p>Now get some Python dependencies (again <strong>as root user</strong>):</p>
<!-- Dockerfile RUN_INLINE -->
<pre><code class="lang-bash">pip install matplotlib==2.0.2 numpy certifi ipython==5.1.0 ipywidgets ipykernel notebook metakernel pyyaml
</code></pre>
<h2 id="get-or-update-the-compiler-from-devtoolset">Get or update the compiler from Devtoolset</h2>
<p>The default compiler on CentOS 7 is quite old. Luckily, <a href="https://www.softwarecollections.org/" target="_blank">Softawre
Collections</a> has RPMs for recent versions of GCC.</p>
<p><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" onclick="javascript:toggle(9962828636);" id="developer-toolset-version"><i class="fa fa-info-circle"></i> Developer Toolset version<span id="heading-9962828636"></span></h3></div><div class="panel-body" id="panel-9962828636"><p>CC7 with the Developer Toolset is the default OS for ALICE O2 operations, therefore we take
particular care about compatibility and upgrading our recommendations. Our policy is to never
upgrade O2 to a newer compiler unless the corresponding Developer Toolset package is out and tested.</p>
<p>Every recommendation change concerning the Develpoer Toolset versions is reviewed, discussed and
voted. The <strong>current situation (July 2018)</strong> is:</p>
<ul>
<li><a href="https://www.softwarecollections.org/en/scls/rhscl/devtoolset-7/" target="_blank">devtoolset-7</a> (GCC v7.3.1) is
the currently <strong>approved and working</strong> version for O2.</li>
</ul>
<p><strong>Please make sure your <code>devtoolset-7</code> is up-to-date!</strong> Due to
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1519073" target="_blank">a bug</a>, versions of <code>devtoolset-7</code> with GCC
v7.2.1 do not work.</p>
<p>All versions other than the very latest <code>devtoolset-7</code> are to be considered unsupported.</p>
</div></div></p>
<p>First off, enable Software Collections:</p>
<!-- Dockerfile RUN_INLINE -->
<pre><code class="lang-bash">yum install -y centos-release-scl
yum-config-manager --enable rhel-server-rhscl-7-rpms
</code></pre>
<p>Get the compiler with:</p>
<!-- Dockerfile RUN_INLINE -->
<pre><code class="lang-bash">yum install -y devtoolset-7
</code></pre>
<p>Note that by default if you type now <code>gcc</code> at the prompt you will not see the new GCC! You need to
enable it explicitly:</p>
<!-- Dockerfile RUN yum install -y vim-enhanced emacs-nox -->
<!-- Dockerfile RUN rpmdb --rebuilddb && yum clean all -->
<!-- Dockerfile RUN echo "source scl_source enable devtoolset-7" >> /etc/profile -->
<!-- Dockerfile RUN echo "source scl_source enable devtoolset-7" >> /etc/bashrc -->
<!-- Dockerfile RUN pip install alibuild -->
<!-- Dockerfile RUN mkdir /lustre /cvmfs -->
<!-- Dockerfile ENTRYPOINT ["/bin/bash"] -->
<pre><code class="lang-bash"><span class="hljs-built_in">source</span> scl_<span class="hljs-built_in">source</span> <span class="hljs-built_in">enable</span> devtoolset-7
</code></pre>
<p>You can either do it in every shell manually, or add it to your <code>~/.bashrc</code> or <code>~/.bash_profile</code>. If
you do so, the new GCC will always be enabled in every shell. This might not be desirable in some
cases, so beware. Also, if you add this line to the shell configuration, this will be enabled in all
new terminals (not the current one).</p>
<p>You can check if you are running the correct version of GCC with:</p>
<pre><code class="lang-bash">gcc --version
</code></pre>
<p>It should report <strong>GCC v7.3.1</strong>.</p>
<p>You are now ready for <a href="./#get-or-upgrade-alibuild">installing aliBuild and start building ALICE
software</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="custom.html" class="navigation navigation-prev " aria-label="Previous page: üêå Custom installation">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="prereq-macos.html" class="navigation navigation-next " aria-label="Next page: Prerequisites for macOS">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Prerequisites for CentOS 7","level":"1.3.2.1","depth":3,"next":{"title":"Prerequisites for macOS","level":"1.3.2.2","depth":3,"path":"building/prereq-macos.md","ref":"building/prereq-macos.md","articles":[]},"previous":{"title":"üêå Custom installation","level":"1.3.2","depth":2,"path":"building/custom.md","ref":"building/custom.md","articles":[{"title":"Prerequisites for CentOS 7","level":"1.3.2.1","depth":3,"path":"building/prereq-centos7.md","ref":"building/prereq-centos7.md","articles":[]},{"title":"Prerequisites for macOS","level":"1.3.2.2","depth":3,"path":"building/prereq-macos.md","ref":"building/prereq-macos.md","articles":[]},{"title":"Prerequisites for Ubuntu","level":"1.3.2.3","depth":3,"path":"building/prereq-ubuntu.md","ref":"building/prereq-ubuntu.md","articles":[]},{"title":"Prerequisites for Fedora","level":"1.3.2.4","depth":3,"path":"building/prereq-fedora.md","ref":"building/prereq-fedora.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["katex","panels@git+https://github.com/lhcb/gitbook-plugin-panels.git#117012fdc18c96831cb88196980c0ea73b0c87b8","collapsible-menu","block-align","page-toc"],"styles":{"website":"css/website.css"},"pluginsConfig":{"collapsible-menu":{},"block-align":{},"search":{},"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","showByDefault":true},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"panels":{},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"ALICE Analysis Tutorial","gitbook":"*","description":"Introduction to the common analysis techniques and tools of ALICE"},"file":{"path":"building/prereq-centos7.md","mtime":"2019-01-24T16:59:17.810Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-01-24T17:00:32.438Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-panels/panels.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

